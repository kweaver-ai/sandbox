# Application Settings
APP_NAME="Sandbox Control Plane"
APP_VERSION="2.1.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG=true

# Server Settings
HOST="0.0.0.0"
PORT=8000
WORKERS=4

# Database Settings
DB_HOST="localhost"
DB_PORT=3306
DB_USER="sandbox"
DB_PASSWORD="password"
DB_NAME="sandbox"
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_RECYCLE=3600

# Database URL (constructed from above)
DATABASE_URL="mysql+aiomysql://sandbox:password@localhost:3306/sandbox"

# S3 Storage Settings
# For local development with MinIO (docker-compose):
S3_BUCKET="sandbox-workspace"
S3_REGION="us-east-1"
S3_ACCESS_KEY_ID="minioadmin"
S3_SECRET_ACCESS_KEY="minioadmin"
S3_ENDPOINT_URL="http://minio:9000"

# For production with AWS S3:
# S3_BUCKET="your-production-bucket"
# S3_REGION="us-east-1"
# S3_ACCESS_KEY_ID="AKIAIOSFODNN7EXAMPLE"
# S3_SECRET_ACCESS_KEY="wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
# S3_ENDPOINT_URL=""  # Leave empty for AWS S3

# Docker Runtime Settings
DOCKER_HOST="unix:///var/run/docker.sock"
DOCKER_TLS_VERIFY=false
DOCKER_CERT_PATH=""

# Executor Settings
EXECUTOR_PORT=8080
CONTROL_PLANE_URL="http://control-plane:8000"

# Kubernetes Runtime Settings
KUBECONFIG="/path/to/kubeconfig"
KUBERNETES_NAMESPACE="sandbox-runtime"

# Execution Settings
DEFAULT_TIMEOUT=300
MAX_TIMEOUT=3600
DEFAULT_CPU="1"
DEFAULT_MEMORY="512Mi"
DEFAULT_DISK="1Gi"

# Cleanup Settings
# IDLE_THRESHOLD_MINUTES: 空闲超时时间（分钟）。设置为 -1 表示无限期（不清理空闲会话）
IDLE_THRESHOLD_MINUTES=30
# MAX_LIFETIME_HOURS: 最大生命周期（小时）。设置为 -1 表示无限期（不强制清理）
MAX_LIFETIME_HOURS=6
CLEANUP_INTERVAL_SECONDS=300

# Retry Settings
MAX_RETRY_ATTEMPTS=3
RETRY_BACKOFF_BASE=1.0
RETRY_BACKOFF_FACTOR=2.0
MAX_RETRY_BACKOFF=10.0

# Warm Pool Settings
WARM_POOL_ENABLED=true
WARM_POOL_DEFAULT_SIZE=10
WARM_POOL_MIN_SIZE=5
WARM_POOL_MAX_IDLE_TIME=300

# Health Check Settings
HEALTH_CHECK_INTERVAL_SECONDS=10
HEARTBEAT_INTERVAL_SECONDS=5
HEARTBEAT_TIMEOUT_SECONDS=15

# Logging Settings
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT="json"  # json, text

# Metrics Settings
METRICS_ENABLED=true
METRICS_PORT=9090

# Security Settings
SECRET_KEY="your-secret-key-change-in-production"
ALLOWED_HOSTS=["*"]
CORS_ORIGINS=["http://localhost:3000"]

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
